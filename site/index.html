<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Rescue Manager ‚Äî Site vitrine</title>
    <meta
      name="description"
      content="G√©rez vos services de secours : casernes, v√©hicules, missions et interventions en direct."
    />
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- Supabase pour l‚Äôauth (site) -->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"
    ></script>

    <!-- Config Auth partag√©e (LE M√äME FICHIER que le jeu, plac√© √† la racine du projet) -->
    <script defer src="../authConfig.js"></script>

    <!-- Logique de la vitrine -->
    <script defer src="app.js"></script>
  </head>
  <body>
    <header class="site-header">
      <div class="container header-inner">
        <div class="brand">
          <div class="logo">üö®</div>
          <div class="title">
            <strong>Rescue Manager</strong>
            <span>Gestion de services de secours</span>
          </div>
        </div>
        <nav class="nav-actions">
          <button id="btn-login" class="btn ghost">Se connecter</button>
          <button id="btn-signup" class="btn ghost">Cr√©er un compte</button>
          <button id="btn-play" class="btn primary">Jouer maintenant</button>
          <button id="btn-logout" class="btn danger hidden">
            Se d√©connecter
          </button>
        </nav>
      </div>
    </header>

    <main>
      <section class="hero">
        <div class="container hero-inner">
          <div class="hero-copy">
            <h1>Coordonnez, intervenez, progressez.</h1>
            <p>
              Construisez vos casernes, √©quipez vos v√©hicules, recevez les
              appels d'urgence et g√©rez chaque intervention en temps r√©el.
            </p>
            <div class="cta-row">
              <button id="btn-hero-play" class="btn primary">
                Lancer une partie
              </button>
              <a href="#features" class="btn ghost"
                >D√©couvrir les fonctionnalit√©s</a
              >
            </div>
            <p id="logged-as" class="muted hidden"></p>
          </div>
          <div class="hero-media">
            <div class="mockup">
              <div class="mockup-bar"></div>
              <div class="mockup-screen">
                Carte dynamique, missions et v√©hicules en action.
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="features" class="features">
        <div class="container">
          <h2>Fonctionnalit√©s cl√©s</h2>
          <div class="grid">
            <div class="card">
              <img src="../assets/icons/caserne.png" alt="Caserne" />
              <h3>Caserne & √©quipements</h3>
              <p>
                Cr√©ez, am√©liorez et g√©rez vos centres d'intervention pour rester
                op√©rationnel.
              </p>
            </div>
            <div class="card">
              <img src="../assets/icons/fpt.png" alt="FPT" />
              <h3>V√©hicules sp√©cialis√©s</h3>
              <p>
                D√©ployez FPT, VSAV, VSR, SMUR et plus, selon le type d'incident.
              </p>
            </div>
            <div class="card">
              <img src="../assets/icons/mission.png" alt="Missions" />
              <h3>Missions dynamiques</h3>
              <p>
                Recevez des appels, priorisez et envoyez les renforts adapt√©s.
              </p>
            </div>
            <div class="card">
              <img src="../assets/icons/hopital.png" alt="H√¥pital" />
              <h3>Monde vivant</h3>
              <p>
                M√©t√©o, trafic et POI influencent vos d√©cisions op√©rationnelles.
              </p>
            </div>
          </div>
        </div>
      </section>

      <section id="auth" class="auth-section hidden">
        <div class="container">
          <div class="auth-panels">
            <form id="login-form" class="panel">
              <h3>Se connecter</h3>
              <label>Email</label>
              <input
                type="email"
                id="login-email"
                placeholder="email@exemple.com"
                required
              />
              <label>Mot de passe</label>
              <input
                type="password"
                id="login-password"
                placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                required
              />
              <button type="submit" class="btn primary block">Connexion</button>
            </form>

            <form id="signup-form" class="panel">
              <h3>Cr√©er un compte</h3>
              <label>Pseudo</label>
              <input
                type="text"
                id="signup-pseudo"
                placeholder="Votre pseudo"
                minlength="3"
                required
              />
              <label>Email</label>
              <input
                type="email"
                id="signup-email"
                placeholder="email@exemple.com"
                required
              />
              <label>Mot de passe</label>
              <input
                type="password"
                id="signup-password"
                placeholder="Minimum 6 caract√®res"
                minlength="6"
                required
              />
              <button type="submit" class="btn secondary block">
                Inscription
              </button>
              <p class="muted small">
                Un email de confirmation vous sera envoy√©.
              </p>
            </form>
          </div>
        </div>
      </section>

      <section id="play" class="play-section">
        <div class="container">
          <h2>Jouer</h2>
          <p>
            Connectez-vous puis lancez le jeu ci-dessous. La session est
            partag√©e entre le site et le jeu.
          </p>
          <div class="play-actions">
            <button id="launch-btn" class="btn primary">Lancer le jeu</button>
            <a
              class="btn ghost"
              href="/index.html"
              target="_blank"
              rel="noopener"
              >Ouvrir dans un onglet</a
            >
          </div>
          <div
            id="embed-wrapper"
            class="embed hidden"
            role="region"
            aria-label="Jeu embarqu√©"
          >
            <iframe
              id="game-frame"
              title="Rescue Manager"
              src=""
              allowfullscreen
            ></iframe>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container">
        <p>¬© <span id="y"></span> Rescue Manager ‚Äî Tous droits r√©serv√©s.</p>
      </div>
    </footer>
  </body>
</html>
